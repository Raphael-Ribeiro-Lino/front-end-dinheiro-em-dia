<main>
    <div class="card">
        <h1><a routerLink="/">Dinheiro Em Dia</a></h1>
        <h2>Digite seu e-mail para redefinir a senha</h2>
        <p>Será enviado um e-mail com o link para a redefinição da sua senha</p>
        <div *ngIf="errorMessages.length > 0" class="error-message">
            <div class="error" *ngFor="let errorMessage of errorMessages">{{ errorMessage }}</div>
        </div>
        <div *ngIf="emailSentSuccessfully != ''" class="success">{{emailSentSuccessfully}}</div>
        <form [formGroup]="formEmailRedefinePassword" (ngSubmit)="submitForm()">
            <label for="iemail">Seu e-mail</label>
            <input type="email" id="iemail" formControlName="email">
            <div
                *ngIf="formEmailRedefinePassword.get('email')?.invalid && formEmailRedefinePassword.get('email')?.touched">
                <div class="error" *ngIf="formEmailRedefinePassword.get('email')?.hasError('required')">O e-mail é
                    obrigatório.</div>
                <div class="error" *ngIf="formEmailRedefinePassword.get('email')?.hasError('maxlength')">O e-mail deve
                    ter no máximo 320 caracteres.
                </div>
                <div class="error" *ngIf="formEmailRedefinePassword.get('email')?.hasError('pattern')">Endereço de
                    e-mail inválido.</div>
            </div>
            <button type="submit" [disabled]="!formEmailRedefinePassword.valid || loading" [ngStyle]="{'background-color': formEmailRedefinePassword.valid ? '' : '#CCCCCC', 'margin-top': formEmailRedefinePassword.valid ? '' : '5%',
        'transition': 'background-color 0.3s, margin-top 0.3s'}">
                <span *ngIf="!loading">Enviar</span>
                <span *ngIf="loading">Enviando...</span>
            </button>
        </form>
    </div>
</main>